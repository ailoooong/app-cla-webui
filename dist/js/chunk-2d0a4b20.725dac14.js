(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a4b20"],{"0813":function(e,r,o){"use strict";o.r(r);var s=function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("el-row",[o("el-col",{attrs:{offset:7,span:10}},[o("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"",prop:"oldPassword","label-width":"0"}},[o("el-input",{attrs:{placeholder:"please input old password",type:"password",autocomplete:"off"},on:{blur:e.checkNewPwd},model:{value:e.ruleForm.oldPassword,callback:function(r){e.$set(e.ruleForm,"oldPassword",r)},expression:"ruleForm.oldPassword"}})],1),o("el-form-item",{attrs:{label:"",prop:"newPassword","label-width":"0"},on:{blur:e.checkOldPwd}},[o("el-input",{attrs:{placeholder:"please input new password",type:"password",autocomplete:"off"},model:{value:e.ruleForm.newPassword,callback:function(r){e.$set(e.ruleForm,"newPassword",r)},expression:"ruleForm.newPassword"}})],1),o("el-form-item",{attrs:{label:"",prop:"checkPwd","label-width":"0"}},[o("el-input",{attrs:{placeholder:"Please enter the new password again",type:"password",autocomplete:"off"},model:{value:e.ruleForm.checkPwd,callback:function(r){e.$set(e.ruleForm,"checkPwd",r)},expression:"ruleForm.checkPwd"}})],1),o("el-form-item",{attrs:{"label-width":"0"}},[o("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submit("ruleForm")}}},[e._v("提交")]),o("el-button",{on:{click:function(r){return e.reset("ruleForm")}}},[e._v("重置")])],1)],1)],1)],1)},t=[],l=o("221d"),a={name:"ResetPassword",computed:{orgValue:function(){return console.log(this.$store.state.loginInfo.orgValue),this.$store.state.loginInfo.orgValue},userInfo:function(){return console.log(this.$store.state.loginInfo.userInfo),this.$store.state.loginInfo.userInfo}},data:function(){var e=this,r=function(r,o,s){""===o?s(new Error("please input old password")):o===e.ruleForm.newPassword?s(new Error("The new password cannot be the same as the old password")):s()},o=function(r,o,s){""===o?s(new Error("please input new password")):o===e.ruleForm.oldPassword?s(new Error("The new password cannot be the same as the old password")):s()},s=function(r,o,s){""===o?s(new Error("please input the new password again")):o!==e.ruleForm.newPassword?s(new Error("The two passwords are not the same")):s()};return{cla_org_id:this.$store.state.loginInfo.cla_org_id,email:this.$store.state.loginInfo.email,ruleForm:{oldPassword:"",newPassword:"",checkPwd:""},rules:{oldPassword:[{require:!0,validator:r,trigger:"blur"}],newPassword:[{require:!0,validator:o,trigger:"blur"}],checkPwd:[{require:!0,validator:s,trigger:"blur"}]}}},methods:{checkNewPwd:function(){},checkOldPwd:function(){},resetPassword:function(){var e=this,r={cla_org_id:this.cla_org_id,email:this.email,old_password:this.ruleForm.oldPassword,new_password:this.ruleForm.newPassword};this.$axios({url:"/api"+l["resetPassword"],method:"put",data:r,headers:{token:this.userInfo[this.orgValue].token}}).then((function(r){console.log(r),e.$message.closeAll(),e.$message.success("success"),e.$router.push("/userList")})).catch((function(r){console.log(r),e.$message.closeAll(),e.$message.error("Please enter the correct old password")}))},submit:function(e){var r=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit"),!1;r.resetPassword()}))},reset:function(e){this.$refs[e].resetFields()}}},n=a,i=o("2877"),u=Object(i["a"])(n,s,t,!1,null,"8f4d8cac",null);r["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0a4b20.725dac14.js.map