(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09718c3d"],{4899:function(e,t,s){},"4dfc":function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"header"},[s("el-col",{attrs:{span:8}},[s("div",{staticStyle:{display:"flex"}})]),s("el-col",{attrs:{span:8}},[s("div",[s("svg-icon",{staticClass:"pointer",attrs:{id:"svg_logo","icon-class":"logo_b"},on:{click:function(t){return e.toHome()}}})],1)]),s("el-col",{attrs:{span:8}},[s("div",[s("el-dropdown",{on:{command:e.handleCommand}},[s("span",{staticClass:"el-dropdown-link"},[e._v(" "+e._s(e.userInfo.userName)),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},["admin"===e.userInfo.role?s("el-dropdown-item",{attrs:{command:"a"}},[e._v("user manager")]):s("el-dropdown-item",{attrs:{command:"a"}},[e._v("employee manager")]),"admin"===e.userInfo.role?s("el-dropdown-item",{attrs:{command:"b"}},[e._v("create user")]):e._e(),s("el-dropdown-item",{attrs:{command:"c"}},[e._v("reset password")]),s("el-dropdown-item",{attrs:{command:"d"}},[e._v("login out")])],1)],1)],1)])],1)},i=[],o={name:"CorporationHeader",props:["userInfo"],data:function(){return{userInfo:this.userInfo}},created:function(){console.log(this.userInfo)},methods:{handleCommand:function(e){this.$emit("clickItem",e)},toHome:function(){this.$router.push("/home")},loginOut:function(){this.$router.push("/")},newWindow:function(){window.open("https://github.com/ouchengle")}}},n=o,a=(s("6af4"),s("2877")),l=Object(a["a"])(n,r,i,!1,null,null,null);t["a"]=l.exports},"615a":function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var r=function(){return window.innerHeight}},"6af4":function(e,t,s){"use strict";var r=s("9162"),i=s.n(r);i.a},9162:function(e,t,s){},"9edf":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{style:e.section,attrs:{id:"section"}},[s("CorporationHeader",{attrs:{userInfo:this.$store.state.loginInfo},on:{clickItem:e.clickItem}}),s("el-row",{staticStyle:{"margin-top":"2rem"}},[s("el-col",{attrs:{offset:4,span:16}},[s("el-tabs",{model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[s("el-tab-pane",{staticStyle:{"margin-top":"1rem"},attrs:{label:"User Management",name:"first"}})],1),s("router-view")],1)],1),s("Footer"),s("el-dialog",{attrs:{width:"50%",title:"新增管理员",align:"center",visible:e.addUserVisible},on:{"update:visible":function(t){e.addUserVisible=t}}},[s("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"10rem"}},[s("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[s("el-input",{attrs:{size:"medium"},model:{value:e.ruleForm.userName,callback:function(t){e.$set(e.ruleForm,"userName",t)},expression:"ruleForm.userName"}})],1),s("el-form-item",{attrs:{label:"密码",prop:"pwd"}},[s("el-input",{attrs:{"show-password":"",size:"medium"},model:{value:e.ruleForm.pwd,callback:function(t){e.$set(e.ruleForm,"pwd",t)},expression:"ruleForm.pwd"}})],1),s("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[s("el-input",{attrs:{size:"medium"},model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),s("el-form-item",{attrs:{"label-width":"0"}},[s("el-row",{attrs:{align:"center"}},[s("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.submit("ruleForm")}}},[e._v("确定")]),s("el-button",{attrs:{size:"medium"},on:{click:function(t){return e.reset("ruleForm")}}},[e._v("重置")])],1)],1)],1)],1),s("el-dialog",{attrs:{width:"20%",title:"",align:"center",visible:e.deleteUserVisible},on:{"update:visible":function(t){e.deleteUserVisible=t}}},[s("el-row",{attrs:{align:"center"}},[e._v(" 确定删除？ ")]),s("el-row",{staticClass:"marginTop1rem contentTitle",attrs:{align:"center"}},[s("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.submit()}}},[e._v("确定")]),s("el-button",{attrs:{size:"medium"},on:{click:function(t){e.deleteUserVisible=!1}}},[e._v("取消")])],1)],1)],1)},i=[],o=s("221d"),n=s("4dfc"),a=s("fd2d"),l=s("615a");window.onresize=function(){l["a"]()>document.getElementById("section").offsetHeight&&(document.getElementById("section").style.height=l["a"]()+"px")};var c={name:"rootManager",components:{CorporationHeader:n["a"],Footer:a["a"]},data:function(){var e=function(e,t,s){""===t&&s(new Error("请输入账号")),s()},t=function(e,t,s){""===t&&s(new Error("请输入密码")),s()},s=function(e,t,s){if(""===t)s(new Error("请输入邮箱"));else{var r=/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/;r.test(t)?s():s(new Error("邮箱格式有误")),s()}s()};return{user:this.$store.state.loginInfo,section:{height:""},active:"first",maxUser:2,deleteUserVisible:!1,rules:{userName:[{require:!0,validator:e,trigger:"blur"}],pwd:[{require:!0,validator:t,trigger:"blur"}],email:[{require:!0,validator:s,trigger:"blur"}]},ruleForm:{userName:"",pwd:"",email:""},addUserVisible:!1,tableData:[{id:0,userName:"001",pwd:"001",email:"969707751@qq.com",class:"法务"},{id:1,userName:"002",pwd:"002",email:"1057750732@qq.com",class:"开发部"}]}},created:function(){console.log(this.$store.state.loginInfo)},mounted:function(){this.setClientHeight()},methods:{clickItem:function(e){switch(console.log(e),e){case"a":"/userList"!==this.$route.path&&this.$router.push("/userList");break;case"b":"/createUser"!==this.$route.path&&this.$router.push("/createUser");break;case"c":"/resetPassword"!==this.$route.path&&this.$router.push("/resetPassword");break;case"d":this.loginOut();break}},loginOut:function(){console.log("删除账号信息"),this.$router.push("/")},setClientHeight:function(){var e=this;this.$nextTick((function(){l["a"]()>document.getElementById("section").offsetHeight?e.section.height=l["a"]()+"px":e.section.height=document.getElementById("section").offsetHeight}))},addUser:function(){var e={};this.$axios({url:"/api"+o["c"],method:"post",data:e}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},submit:function(e){this.$refs[e].validate((function(e){if(!e)return console.log("error submit"),!1;alert("submit!")}))},reset:function(e){this.$refs[e].resetFields()},deleteUser:function(e){console.log(e),this.deleteUserVisible=!0},clickAddUser:function(){this.tableData.length===this.maxUser?(this.$message.closeAll(),this.$message("最多新增".concat(this.maxUser,"个管理账号"))):this.addUserVisible=!0}}},u=c,d=(s("bece"),s("2877")),m=Object(d["a"])(u,r,i,!1,null,"50b1ca08",null);t["default"]=m.exports},bece:function(e,t,s){"use strict";var r=s("4899"),i=s.n(r);i.a},d32f:function(e,t,s){"use strict";var r=s("e35a"),i=s.n(r);i.a},e35a:function(e,t,s){},fd2d:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-row",{staticClass:"footer"},[s("el-col",{staticClass:"left",attrs:{span:8}},[s("span",[e._v("© 2020 HUAWEI SE")])]),s("el-col",{staticClass:"center",attrs:{span:8}},[s("span",[e._v("Made with "),s("svg-icon",{attrs:{"icon-class":"heart"}}),e._v(" from the GitHub team at HUAWEI ")],1)]),s("el-col",{staticClass:"right",attrs:{span:8}},[s("div",[s("span",{staticClass:"pointer"},[e._v("Terms of Service & Privacy Policy")]),s("span",{staticClass:"pointer"},[s("svg-icon",{attrs:{id:"github_logo","icon-class":"github"}}),e._v("Open an issue")],1)])])],1)},i=[],o={name:"Footer"},n=o,a=(s("d32f"),s("2877")),l=Object(a["a"])(n,r,i,!1,null,"023530e2",null);t["a"]=l.exports}}]);
//# sourceMappingURL=chunk-09718c3d.ad7a9087.js.map