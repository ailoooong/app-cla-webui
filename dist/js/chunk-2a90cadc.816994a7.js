(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a90cadc"],{"057f":function(t,e,a){var i=a("fc6a"),r=a("241c").f,n={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return r(t)}catch(e){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==n.call(t)?s(t):r(i(t))}},4443:function(t,e,a){"use strict";var i=a("add4"),r=a.n(i);r.a},"746f":function(t,e,a){var i=a("428f"),r=a("5135"),n=a("e538"),o=a("9bf2").f;t.exports=function(t){var e=i.Symbol||(i.Symbol={});r(e,t)||o(e,t,{value:n.f(t)})}},a4d3:function(t,e,a){"use strict";var i=a("23e7"),r=a("da84"),n=a("d066"),o=a("c430"),s=a("83ab"),l=a("4930"),c=a("fdbf"),u=a("d039"),d=a("5135"),p=a("e8b5"),f=a("861d"),h=a("825a"),m=a("7b0b"),y=a("fc6a"),g=a("c04e"),v=a("5c6c"),b=a("7c73"),C=a("df75"),A=a("241c"),w=a("057f"),x=a("7418"),k=a("06cf"),T=a("9bf2"),M=a("d1e7"),N=a("9112"),S=a("6eeb"),O=a("5692"),q=a("f772"),_=a("d012"),E=a("90e3"),$=a("b622"),L=a("e538"),F=a("746f"),j=a("d44e"),z=a("69f3"),I=a("b727").forEach,D=q("hidden"),R="Symbol",P="prototype",H=$("toPrimitive"),B=z.set,J=z.getterFor(R),U=Object[P],Q=r.Symbol,W=n("JSON","stringify"),G=k.f,K=T.f,V=w.f,X=M.f,Y=O("symbols"),Z=O("op-symbols"),tt=O("string-to-symbol-registry"),et=O("symbol-to-string-registry"),at=O("wks"),it=r.QObject,rt=!it||!it[P]||!it[P].findChild,nt=s&&u((function(){return 7!=b(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(t,e,a){var i=G(U,e);i&&delete U[e],K(t,e,a),i&&t!==U&&K(U,e,i)}:K,ot=function(t,e){var a=Y[t]=b(Q[P]);return B(a,{type:R,tag:t,description:e}),s||(a.description=e),a},st=c?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Q},lt=function(t,e,a){t===U&&lt(Z,e,a),h(t);var i=g(e,!0);return h(a),d(Y,i)?(a.enumerable?(d(t,D)&&t[D][i]&&(t[D][i]=!1),a=b(a,{enumerable:v(0,!1)})):(d(t,D)||K(t,D,v(1,{})),t[D][i]=!0),nt(t,i,a)):K(t,i,a)},ct=function(t,e){h(t);var a=y(e),i=C(a).concat(ht(a));return I(i,(function(e){s&&!dt.call(a,e)||lt(t,e,a[e])})),t},ut=function(t,e){return void 0===e?b(t):ct(b(t),e)},dt=function(t){var e=g(t,!0),a=X.call(this,e);return!(this===U&&d(Y,e)&&!d(Z,e))&&(!(a||!d(this,e)||!d(Y,e)||d(this,D)&&this[D][e])||a)},pt=function(t,e){var a=y(t),i=g(e,!0);if(a!==U||!d(Y,i)||d(Z,i)){var r=G(a,i);return!r||!d(Y,i)||d(a,D)&&a[D][i]||(r.enumerable=!0),r}},ft=function(t){var e=V(y(t)),a=[];return I(e,(function(t){d(Y,t)||d(_,t)||a.push(t)})),a},ht=function(t){var e=t===U,a=V(e?Z:y(t)),i=[];return I(a,(function(t){!d(Y,t)||e&&!d(U,t)||i.push(Y[t])})),i};if(l||(Q=function(){if(this instanceof Q)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=E(t),a=function(t){this===U&&a.call(Z,t),d(this,D)&&d(this[D],e)&&(this[D][e]=!1),nt(this,e,v(1,t))};return s&&rt&&nt(U,e,{configurable:!0,set:a}),ot(e,t)},S(Q[P],"toString",(function(){return J(this).tag})),S(Q,"withoutSetter",(function(t){return ot(E(t),t)})),M.f=dt,T.f=lt,k.f=pt,A.f=w.f=ft,x.f=ht,L.f=function(t){return ot($(t),t)},s&&(K(Q[P],"description",{configurable:!0,get:function(){return J(this).description}}),o||S(U,"propertyIsEnumerable",dt,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:Q}),I(C(at),(function(t){F(t)})),i({target:R,stat:!0,forced:!l},{for:function(t){var e=String(t);if(d(tt,e))return tt[e];var a=Q(e);return tt[e]=a,et[a]=e,a},keyFor:function(t){if(!st(t))throw TypeError(t+" is not a symbol");if(d(et,t))return et[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),i({target:"Object",stat:!0,forced:!l,sham:!s},{create:ut,defineProperty:lt,defineProperties:ct,getOwnPropertyDescriptor:pt}),i({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:ft,getOwnPropertySymbols:ht}),i({target:"Object",stat:!0,forced:u((function(){x.f(1)}))},{getOwnPropertySymbols:function(t){return x.f(m(t))}}),W){var mt=!l||u((function(){var t=Q();return"[null]"!=W([t])||"{}"!=W({a:t})||"{}"!=W(Object(t))}));i({target:"JSON",stat:!0,forced:mt},{stringify:function(t,e,a){var i,r=[t],n=1;while(arguments.length>n)r.push(arguments[n++]);if(i=e,(f(e)||void 0!==t)&&!st(t))return p(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!st(e))return e}),r[1]=e,W.apply(null,r)}})}Q[P][H]||N(Q[P],H,Q[P].valueOf),j(Q,R),_[D]=!0},add4:function(t,e,a){},c819:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:t.createCLAClass,attrs:{id:"createCLA"}},[a("v-header"),a("div",{attrs:{id:"section"}},[a("el-col",{attrs:{offset:6,span:12}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between",padding:"1rem 0"}},[a("span",[t._v("Edit your CLA")])]),a("div",t._l(t.claTags,(function(e,i){return a("el-tag",{key:e,staticClass:"pointer",attrs:{closable:"","disable-transitions":!1},on:{click:function(e){return t.chooseCla(i)},close:function(a){return t.handleClose(e,i)}}},[t._v(" "+t._s(e)+" ")])})),1),t.addNewFile?a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("el-col",{staticStyle:{"padding-right":"2rem"},attrs:{span:20}},[a("el-input",{staticStyle:{"margin-bottom":"0.5rem"},attrs:{size:"small",placeholder:"please input file name"},model:{value:t.newClaFileName,callback:function(e){t.newClaFileName=e},expression:"newClaFileName"}})],1),a("el-col",{attrs:{span:4,align:"right"}},[a("el-select",{staticStyle:{width:"8rem"},attrs:{size:"small",value:""},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.languageOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1):a("div",[a("el-button",{staticClass:"pointer",attrs:{size:"mini"},on:{click:function(e){return t.clickAddNewClaFile()}}},[t._v("+ add new file")])],1),a("div",[a("el-input",{staticClass:"textAreaClass",attrs:{rows:"15",readonly:!t.isEdit,type:"textarea"},on:{change:t.claTextChange},model:{value:t.claText,callback:function(e){t.claText=e},expression:"claText"}})],1),a("p",[t._v("Edit your metaData "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"The information you want contributors to fill in when they sign the cla.Title and type are required, otherwise the field will fail to be added",placement:"right"}},[a("svg-icon",{attrs:{"icon-class":"bangzhu"}})],1)],1),a("el-row",{staticStyle:{margin:"0 -10px"}},[a("el-col",{staticClass:"typeCol",attrs:{span:5}},[a("el-radio",{attrs:{label:"individual"},on:{change:t.changeRadio},model:{value:t.metadataType,callback:function(e){t.metadataType=e},expression:"metadataType"}},[t._v("Individual Contributor")])],1),a("el-col",{staticClass:"typeCol",attrs:{span:5}},[a("el-radio",{attrs:{label:"corporation"},on:{change:t.changeRadio},model:{value:t.metadataType,callback:function(e){t.metadataType=e},expression:"metadataType"}},[t._v("Legal Entity Contributor")])],1)],1),a("div",[a("div",t._l(t.metadataArr,(function(e,i){return a("el-row",{staticStyle:{padding:"0.5rem 0"},attrs:{type:"flex",align:"middle",gutter:20}},[a("el-col",{attrs:{span:5}},[a("el-input",{attrs:{size:"medium",readonly:""},model:{value:e.title,callback:function(a){t.$set(e,"title",a)},expression:"item.title"}})],1),a("el-col",{attrs:{span:5}},[a("el-input",{attrs:{size:"medium",readonly:""},model:{value:e.type,callback:function(a){t.$set(e,"type",a)},expression:"item.type"}})],1),a("el-col",{attrs:{span:5}},[a("el-input",{attrs:{size:"medium",readonly:""},model:{value:e.description,callback:function(a){t.$set(e,"description",a)},expression:"item.description"}})],1),a("el-col",{staticStyle:{height:"100%"},attrs:{span:5}},[a("el-checkbox",{attrs:{disabled:""},model:{value:e.required,callback:function(a){t.$set(e,"required",a)},expression:"item.required"}},[t._v("required")])],1)],1)})),1),a("div",t._l(t.customMetadataArr,(function(e,i){return a("el-row",{staticStyle:{padding:"0.5rem 0"},attrs:{type:"flex",align:"middle",gutter:20}},[a("el-col",{attrs:{span:5}},[a("el-input",{attrs:{size:"medium",placeholder:"please input title"},model:{value:e.title,callback:function(a){t.$set(e,"title",a)},expression:"item.title"}})],1),a("el-col",{attrs:{span:5}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"select dataType",size:"medium"},model:{value:e.type,callback:function(a){t.$set(e,"type",a)},expression:"item.type"}},t._l(t.dataTypeOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-col",{staticStyle:{height:"100%"},attrs:{span:5}},[a("el-input",{attrs:{size:"medium",placeholder:"description"},model:{value:e.description,callback:function(a){t.$set(e,"description",a)},expression:"item.description"}})],1),a("el-col",{staticStyle:{height:"100%"},attrs:{span:5}},[a("el-checkbox",{model:{value:e.required,callback:function(a){t.$set(e,"required",a)},expression:"item.required"}},[t._v("required")])],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{size:"medium"},on:{click:function(e){return t.addRow(i)}}},[t._v("+")]),a("el-button",{attrs:{size:"medium"},on:{click:function(e){return t.myDeleteRow(i)}}},[t._v("-")])],1)],1)})),1)]),a("div",{staticStyle:{"margin-top":"1rem",display:"flex","justify-content":"space-between"}},[a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{size:"medium",disabled:!t.verifyNotNull(),type:"primary"},on:{click:function(e){return t.uploadCla()}}},[t._v("create CLA ")])],1)],1)],1),a("v-footer")],1)},r=[],n=(a("a4d3"),a("e01a"),a("99af"),a("4160"),a("c975"),a("a434"),a("b0c0"),a("ac1f"),a("5319"),a("498a"),a("159b"),a("0418")),o=a("fd2d"),s=a("615a"),l=a("221d"),c={name:"CreateCLA",components:{"v-header":n["a"],"v-footer":o["a"]},data:function(){return{metadataArr:[{title:"Name",type:"name",description:"your name",required:!0},{title:"E-Mail",type:"email",description:"your email",required:!0},{title:"Date",type:"date",description:"the date of today",required:!0}],metadataType:"individual",customMetadataArr:"",individualCustomMetadataArr:[{title:"",type:"",description:"",required:!0}],corporationCustomMetadataArr:[{title:"",type:"",description:"",required:!0}],dataTypeOptions:[{label:"name",value:"name"},{label:"corporationName",value:"corporationName"},{label:"adminEmail",value:"adminEmail"},{label:"date",value:"date"},{label:"telephone",value:"telephone"},{label:"address",value:"address"},{label:"email",value:"email"},{label:"fax",value:"fax"}],access_token:this.$store.state.access_token,refresh_token:this.$store.state.refresh_token,isAddNewMetaFile:!1,isEditMeta:!1,metaText:"",currentIndex:"",newMetaFileName:"",newClaFileName:"",addNewFile:!1,isEdit:!1,claTags:[],claOptions:[],metaOptions:[{value:0,text:"{userName:{type:string,require:true},email:{type:string,require:true},}"}],fullscreenLoading:!1,claName:"",value:0,languageOptions:[{value:0,label:"english"},{value:1,label:"chinese"},{value:2,label:"japanese"}],claText:"",metaData:"",createCLAClass:{height:""},platform:this.$store.state.platform,user:{userName:this.$store.state.user.userName,userId:this.$store.state.user.userId}}},methods:{changeRadio:function(){"individual"===this.metadataType?(this.metadataArr=[{title:"Name",type:"name",description:"your name",required:!0},{title:"E-Mail",type:"email",description:"your email",required:!0},{title:"Date",type:"date",description:"the date of today",required:!0}],this.customMetadataArr=this.individualCustomMetadataArr):"corporation"===this.metadataType&&(this.metadataArr=[{title:"CorporationName",type:"corporationName",description:"your corporation email",required:!0},{title:"Name",type:"name",description:"your name",required:!0},{title:"E-Mail",type:"adminEmail",description:"your email",required:!0},{title:"Date",type:"date",description:"the date of today",required:!0}],this.customMetadataArr=this.corporationCustomMetadataArr)},addRow:function(t){this.customMetadataArr.splice(t+1,0,{title:"",type:"",description:"",required:!0}),"individual"===this.metadataType?this.individualCustomMetadataArr.splice(t+1,0,{title:"",type:"",description:"",required:!0}):"corporation"===this.metadataType&&this.corporationCustomMetadataArr.splice(t+1,0,{title:"",type:"",description:"",required:!0})},myDeleteRow:function(t){console.log(t),1===this.customMetadataArr.length?(this.customMetadataArr[0].type="",this.customMetadataArr[0].title="",this.customMetadataArr[0].description=""):this.customMetadataArr.splice(t,1),"individual"===this.metadataType?1===this.individualCustomMetadataArr.length?(this.individualCustomMetadataArr[0].type="",this.individualCustomMetadataArr[0].title="",this.individualCustomMetadataArr[0].description=""):this.individualCustomMetadataArr.splice(t,1):"corporation"===this.metadataType&&(1===this.corporationCustomMetadataArr.length?(this.corporationCustomMetadataArr[0].type="",this.corporationCustomMetadataArr[0].title="",this.corporationCustomMetadataArr[0].description=""):this.corporationCustomMetadataArr.splice(t,1))},clickAddNewClaFile:function(){this.addNewFile=!0,this.claText="",this.isEdit=!0,this.newClaFileName=""},clickAddNewMetaFile:function(){this.isAddNewMetaFile=!0,this.metaData="",this.isEditMeta=!0},chooseMeta:function(t){console.log("chooseMeta",t),this.metaData=this.metaOptions[0].text,this.isEditMeta=!1,this.isAddNewMetaFile=!1,this.newMetaFileName=""},chooseCla:function(t){console.log("chooseCla",t),this.claText=this.claOptions[t].text,this.isEdit=!1,this.currentIndex=t,this.addNewFile=!1,this.newClaFileName=this.claTags[t]},handleClose:function(t,e){var a=this;this.$axios({url:"/api".concat(l["d"],"/").concat(this.claOptions[e].id),method:"delete",headers:{"Access-Token":this.access_token,"Refresh-Token":this.refresh_token,User:"".concat(this.platform,"/").concat(this.user.userName)}}).then((function(i){console.log(i),a.claTags.splice(a.claTags.indexOf(t),1),a.currentIndex===e&&(a.claText="",a.currentIndex=""),a.getCLA()})).catch((function(t){console.log(t),a.$message.error("已有绑定关系，无法删除")}))},getCLA:function(){var t=this;console.log("getCLA"),this.$axios({url:"/api"+l["h"],headers:{"Access-Token":this.access_token,"Refresh-Token":this.refresh_token,User:"".concat(this.platform,"/").concat(this.user.userName)}}).then((function(e){console.log(e),e.data.length&&(t.claOptions=[],t.claTags=[],e.data.forEach((function(e,a){t.claTags.push(e.name),t.claOptions.push({value:a,label:e.name,id:e.id,text:e.text,language:e.language})})))})).catch((function(t){console.log(t)}))},claTextChange:function(t){console.log(t)},verifyNotNull:function(){return this.addNewFile?""!==this.newClaFileName.trim()&&""!==this.claText.trim():""!==this.claText.trim()},checkMetadata:function(){for(var t=this.customMetadataArr.concat(this.metadataArr),e=0;e<t.length;e++)for(var a=e+1;a<t.length;a++)if(t[e].title===t[a].title)return!1;return!0},uploadCla:function(){var t=this;if(this.checkMetadata()){var e=[];this.metadataArr.forEach((function(t,a){e.push({id:a+"",title:t.title,type:t.type,description:t.description,required:t.required})}));for(var a=0;a<this.customMetadataArr.length;a++)if(""!==this.customMetadataArr[a].title&&""!==this.customMetadataArr[a].type&&e.push({id:this.metadataArr.length+a+"",title:this.customMetadataArr[a].title,type:this.customMetadataArr[a].type,description:this.customMetadataArr[a].description,required:this.customMetadataArr[a].required}),a===this.customMetadataArr.length-1){this.fullscreenLoading=!0;var i={name:this.newClaFileName,text:this.claText,language:this.languageOptions[this.value].label,submitter:"".concat(this.platform,"/").concat(this.user.userName),apply_to:this.metadataType,fields:e};console.log(i),this.$axios({url:"/api"+l["u"],method:"post",data:i,headers:{"Access-Token":this.access_token,"Refresh-Token":this.refresh_token,User:"".concat(this.platform,"/").concat(this.user.userName)}}).then((function(e){console.log(e),t.fullscreenLoading=!1,t.$message.success("succeed"),setTimeout((function(){t.$router.replace("/home")}),2e3)})).catch((function(e){console.log(e),t.fullscreenLoading=!1,t.$message.error("failed")}))}}else this.$message.closeAll(),this.$message.error("The title is repeated")},setClientHeight:function(){var t=this;this.$nextTick((function(){console.log(s["a"]()),console.log(document.getElementById("createCLA").offsetHeight),s["a"]()>document.getElementById("createCLA").offsetHeight?t.createCLAClass.height=s["a"]()+"px":t.createCLAClass.height=document.getElementById("createCLA").offsetHeight}))},copy:function(){console.log(this.claText),this.init()},init:function(){var t=this.claText.replace(/\r\n/g,"<br/>").replace(/\n/g,"<br/>").replace(/\s/g," ");console.log(t),this.metaData=t}},created:function(){this.getCLA()},mounted:function(){this.setClientHeight()}};window.onresize=function(){s["a"]()>document.getElementById("createCLA").offsetHeight&&(document.getElementById("createCLA").style.height=s["a"]()+"px")};var u=c,d=(a("4443"),a("2877")),p=Object(d["a"])(u,i,r,!1,null,null,null);e["default"]=p.exports},e01a:function(t,e,a){"use strict";var i=a("23e7"),r=a("83ab"),n=a("da84"),o=a("5135"),s=a("861d"),l=a("9bf2").f,c=a("e893"),u=n.Symbol;if(r&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof p?new u(t):void 0===t?u():u(t);return""===t&&(d[e]=!0),e};c(p,u);var f=p.prototype=u.prototype;f.constructor=p;var h=f.toString,m="Symbol(test)"==String(u("test")),y=/^Symbol\((.*)\)[^)]+$/;l(f,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=h.call(t);if(o(d,t))return"";var a=m?e.slice(7,-1):e.replace(y,"$1");return""===a?void 0:a}}),i({global:!0,forced:!0},{Symbol:p})}},e538:function(t,e,a){var i=a("b622");e.f=i}}]);
//# sourceMappingURL=chunk-2a90cadc.816994a7.js.map